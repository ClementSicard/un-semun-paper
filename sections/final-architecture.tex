
\begin{figure}[!htb]
    \centering
    \includegraphics[width=\textwidth]{res/architecture-final.pdf}
    % \includegraphics*[width=0.8\textwidth]{res/architecture-final.png}
    \caption{Final stack architecture}
    % change caption position to the bottom

    \label{fig:architecture}
\end{figure}

\section{Final architecture} \label{sec:final-architecture}

The final architecture is a full-stack architecture, from the database to the frontend, handed in as a Docker compose stack: \repo{un-semun}.

The project consists of $7$ \faGithub{} GitHub repos:

\begin{itemize}
    \item \repo{un-semun}: The main repository with the \texttt{docker-compose} stack declaration.
    \item \repo{un-semun-frontend}: The frontend.
    \item \repo{un-semun-api}: The API for the frontend.
    \item \repo{undl}: The code for \texttt{undl}, a Python wrapper around the UN Digital Library API.
    \item \repo{un-unbis-thesaurus-scraper}: A scraper for the UNBIS Thesaurus taxonomy website.
    \item \repo{un-ml-pipeline}: Machine learning pipeline for UNDL documents.
    \item \repo{un-semun-misc}: Diverse scripts used for the project.
    \item \repo{un-semun-paper}: The code for this paper.
\end{itemize}

This paper will go through each of them in detail except for the paper repository.


\input{sections/un-semun-frontend}

\input{sections/un-semun-api}

\input{sections/undl}

\input{sections/unbist}

\input{sections/un-ml-pipeline}

\input{sections/neo4j}

\input{sections/un-semun}

\input{sections/un-semun-misc}





\subsection{General tech stack notes} \label{ssec:general-tech-stack-notes}

All the services composing of the stack are dockerized (i.e., they live in their own Docker container but their storage and network interface can be shared), and they are orchestrated and connected using \texttt{docker-compose}\footnote{\url{https://docs.docker.com/compose/}}.

For all the Python components in the stack (the blue components in Figure \ref{fig:architecture}), the dependencies are managed using \texttt{poetry}\footnote{\url{https://github.com/python-poetry/poetry}}.
